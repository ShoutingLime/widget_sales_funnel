let funnelSalesData=[{create_dt:"2019-07-02T00:00:00+03:00",param_id:116,partner_id:2224,value:172e5},{create_dt:"2019-07-02T00:00:00+03:00",param_id:117,partner_id:2224,value:32e5},{create_dt:"2019-07-02T00:00:00+03:00",param_id:118,partner_id:2224,value:3e5},{create_dt:"2019-07-02T00:00:00+03:00",param_id:119,partner_id:2224,value:12e5}],dataset=[funnelSalesData[0].value,25e4,funnelSalesData[1].value,25e4,funnelSalesData[2].value,25e4,funnelSalesData[3].value,25e4],width=320,color=["#61D267","transparent","#E2E9E9","transparent","#627884","transparent","#FA3264","transparent"],pie=d3.pie().sort(null),arc=d3.arc().innerRadius(width/2-3).outerRadius(width/2-30),svg=d3.select("#graphic-sales-funnel").append("svg").attr("width",width).attr("height",width).append("g").attr("transform","translate("+width/2+","+width/2+")"),path=svg.selectAll("path").data(pie(dataset)).enter().append("path").attr("fill",function(e,a){return color[a]}).attr("d",arc).attr("stroke",function(e,a){return color[a]}).attr("stroke-width",5).attr("stroke-linecap","square").attr("stroke-linejoin","round"),summary=funnelSalesData[0].value+funnelSalesData[1].value+funnelSalesData[2].value+funnelSalesData[3].value,widthRedeemed=funnelSalesData[0].value/summary*100,widthRevoked=funnelSalesData[1].value/summary*100,widthReturned=funnelSalesData[2].value/summary*100,widthProcessing=funnelSalesData[3].value/summary*100;document.querySelector(".ppa-widget-sales-funnel__legend-chart--redeemed").style.width=widthRedeemed+"%",document.querySelector(".ppa-widget-sales-funnel__legend-chart--revoked").style.width=widthRevoked+"%",document.querySelector(".ppa-widget-sales-funnel__legend-chart--returned").style.width=widthReturned+"%",document.querySelector(".ppa-widget-sales-funnel__legend-chart--processing").style.width=widthProcessing+"%";